type User @model @auth(rules: [{ allow: owner }]) {
  id: ID!
  name: String
  email: String 
  phone: String
  address: String
  
  type: UserType @auth(rules: [{ allow: groups, groups: ["admin"] }])

  bookings: [Booking] @hasMany
  properties: [Property] @hasMany

  createdAt: AWSDateTime
  updatedAt: AWSDateTime
}

type Property @model @auth(rules: [{ allow: owner }]) {
  id: ID!
  title: String
  description: String
  price: Float

  amenities: [String]
  images: [String]

  owner: User @hasOne
  bookings: [Booking] @hasMany

  address: Location @hasOne

  createdAt: AWSDateTime
  updatedAt: AWSDateTime
} 

type Booking @model @auth(rules: [{allow: owner}]) {
  id: ID!
  property: Property @hasOne
  guest: User @hasOne

  checkIn: AWSDateTime
  checkOut: AWSDateTime

  createdAt: AWSDateTime
  updatedAt: AWSDateTime
}

enum UserType {
  BUYER
  GUEST
  OWNER
  AGENT
}

type Location @model {
  id: ID!
  address: String
  city: String
  state: String
  zipcode: String
  country: String

  longitude: Float
  latitude: Float
}